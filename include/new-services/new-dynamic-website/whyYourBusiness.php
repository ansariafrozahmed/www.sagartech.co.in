<div class="lg:py-28 py-12 overflow-hidden lg:px-20 px-4 flex flex-col justify-center items-center transition-colors duration-300" id="main-section">
    <!-- <div class="absolute top-0 left-0 w-full h-full inset-0 bg-black/85"></div> -->
    <div class="w-full" id="trigger-section">
        <div class="" id="main-title-section">
            <!-- Text Area -->
            <div class="w-full" id="animation-bottom">
                <section id="heading-section" class="">
                </section>
            </div>
        </div>
        <div id="trigger-heading-end" class="h-[1px] w-full"></div>
        <h2 id="animated-heading" class="lg:text-[50px] text-[40px] text-start w-full leading-[1.1] tracking-[0px] font-normal transition-colors duration-300">
            Why Your Business Needs <br class="max-sm:hidden">Dynamic Website Development
        </h2>
        <div id="trigger-heading-end" class="h-[1px] w-full"></div>
        <p class="text-xl font-light tracking-wide text-gray-300 w-full mt-10 transition-colors duration-300" id="animated-subtitle">
            How a Strong App Builds Trust, Engagement, and Conversions
        </p>
    </div>
    <div class="flex !justify-start w-full">
        <p id="animated-paragraph" class="text-[13.5px] lg:text-xl max-w-[750px] text-start w-full font-light tracking-wide text-gray-100 opacity-0 translate-y-6 my-10 transition-colors duration-300">
            In the digital age, a dynamic website is no longer a choice: it is a requirement for businesses seeking to establish a strong online presence and stay ahead of the competition. At Sagar Tech Technical Solution, we recognize the value of dynamic website development in driving business growth and increasing customer engagement. Here are some strong reasons why your business should have a dynamic website.
        </p>
    </div>
    <div class="">
        <div class="grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-5 place-items-center" id="grid-column-container">
            <div id="glow-card" class="relative group overflow-hidden space-y-4 p-6 border border-gray-200 rounded-lg max-w-[450px] md:h-[240px] bg-white w-full flex flex-col justify-center items-center transition-colors duration-300">

                <!-- Glow that follows cursor -->
                <div id="glow-dot" class="pointer-events-none absolute w-48 h-48 rounded-full bg-red-100 opacity-0 blur-3xl z-0"></div>

                <img src="new-icons/experience.png" class="w-10" alt="">
                <h3 class="lg:text-[22px] leading-[1.15] font-[400] text-[#242424] z-10">Enhanced User Experience</h3>
                <p class="text-[13px] font-light tracking-wide text-gray-600 text-center z-10">
                    Dynamic sites provide a more interactive and engaging user experience. With enhanced features you can give visitors a smooth and enjoyable browsing experience.
                </p>
            </div>
            <div id="glow-card" class="relative group overflow-hidden space-y-4 p-6 border border-gray-200 rounded-lg max-w-[450px] md:h-[240px] bg-white w-full flex flex-col justify-center items-center transition-colors duration-300">

                <!-- Glow that follows cursor -->
                <div id="glow-dot" class="pointer-events-none absolute w-48 h-48 rounded-full bg-red-100 opacity-0 blur-3xl z-0"></div>

                <img src="new-icons/performance.png" class="w-10 z-10" alt="">
                <h3 class="lg:text-[22px] leading-[1.15] font-[400] text-[#242424] z-10">Improved SEO Performance</h3>
                <p class="text-[13px] font-light tracking-wide text-gray-600 text-center z-10">
                    Dynamic websites are naturally more SEO-friendly than static websites. They allow you to create SEO-friendly URLs and dynamic content and easily integrate meta tags.
                </p>
            </div>
            <div id="glow-card" class="relative group overflow-hidden space-y-4 p-6 border border-gray-200 rounded-lg max-w-[450px] md:h-[240px] bg-white w-full flex flex-col justify-center items-center transition-colors duration-300">

                <!-- Glow that follows cursor -->
                <div id="glow-dot" class="pointer-events-none absolute w-48 h-48 rounded-full bg-red-100 opacity-0 blur-3xl z-0"></div>

                <img src="new-icons/inc-sale.png" class="w-10" alt="">
                <h3 class="lg:text-[22px] leading-[1.15] font-[400] text-[#242424] z-10">Increased Sales</h3>
                <p class="text-[13px] font-light tracking-wide text-gray-600 text-center z-10">
                    The online marketplace is dynamic and ever-expanding. An E-commerce website opens up new avenues for sales.
                </p>
            </div>
            <div id="glow-card" class="relative group overflow-hidden space-y-4 p-6 border border-gray-200 rounded-lg max-w-[450px] md:h-[240px] bg-white w-full flex flex-col justify-center items-center transition-colors duration-300">

                <!-- Glow that follows cursor -->
                <div id="glow-dot" class="pointer-events-none absolute w-48 h-48 rounded-full bg-red-100 opacity-0 blur-3xl z-0"></div>

                <img src="new-icons/scalability-black.png" class="w-10" alt="">
                <h3 class="lg:text-[22px] leading-[1.15] font-[400] text-[#242424] z-10">Scalability</h3>
                <p class="text-[13px] font-light tracking-wide text-gray-600 text-center z-10">
                    Dynamic websites are highly scalable and can quickly expand and change as your company grows. Whether you need to add new products, expand your services.
                </p>
            </div>
            <div id="glow-card" class="relative group overflow-hidden space-y-4 p-6 border border-gray-200 rounded-lg max-w-[450px] md:h-[240px] bg-white w-full flex flex-col justify-center items-center transition-colors duration-300">

                <!-- Glow that follows cursor -->
                <div id="glow-dot" class="pointer-events-none absolute w-48 h-48 rounded-full bg-red-100 opacity-0 blur-3xl z-0"></div>

                <img src="new-icons/cost-effect.png" class="w-10" alt="">
                <h3 class="lg:text-[22px] leading-[1.15] font-[400] text-[#242424] z-10">Cost-Effectiveness</h3>
                <p class="text-[13px] font-light tracking-wide text-gray-600 text-center z-10">
                    While dynamic website development may require a more initial investment than static website development.
                </p>
            </div>
            <div id="glow-card" class="relative group overflow-hidden space-y-4 p-6 border border-gray-200 rounded-lg max-w-[450px] md:h-[240px] bg-white w-full flex flex-col justify-center items-center transition-colors duration-300">

                <!-- Glow that follows cursor -->
                <div id="glow-dot" class="pointer-events-none absolute w-48 h-48 rounded-full bg-red-100 opacity-0 blur-3xl z-0"></div>

                <img src="new-icons/conversion-rate.png" class="w-10" alt="">
                <h3 class="lg:text-[22px] leading-[1.15] font-[400] text-[#242424] z-10">Improved Conversion Rates</h3>
                <p class="text-[13px] font-light tracking-wide text-gray-600 text-center z-10">
                    Dynamic websites aim to turn visitors into customers. With features like personalised content and targeted calls to action.
                </p>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/split-type@0.3.4/dist/split-type.umd.js"></script>

<script>
    // Register ScrollTrigger plugin
    gsap.registerPlugin(ScrollTrigger);

    // 1. Split heading text into characters
    const splitHeading = new SplitType("#animated-heading", {
        types: "words, chars"
    });

    // 2. Preserve word spacing
    splitHeading.words.forEach(word => {
        word.style.display = "inline-block";
        word.style.whiteSpace = "nowrap";
    });

    // 3. Create a timeline for animations
    const headingTimeline = gsap.timeline({
        scrollTrigger: {
            trigger: "#animation-bottom",
            start: "top 95%",
            end: "top 12%",
            scrub: 1.2,
        }
    });

    // 4. Animate heading characters
    headingTimeline.fromTo(
        splitHeading.chars, {
            opacity: 0,
            filter: "blur(4px)"
        }, {
            opacity: 1,
            filter: "blur(0px)",
            stagger: 0.05,
            ease: "power4.out"
        }
    );

    // 5. Animate subtitle
    headingTimeline.fromTo(
        "#animated-subtitle", {
            opacity: 0,
            y: 20
        }, {
            opacity: 1,
            y: 0,
            duration: 0.6,
            ease: "power2.out"
        }
    );

    // 6. Animate paragraph
    headingTimeline.fromTo(
        "#animated-paragraph", {
            opacity: 0,
            y: 20
        }, {
            opacity: 1,
            y: 0,
            duration: 0.6,
            ease: "power2.out"
        }
    );

    // 7. Card animations based on screen size
    ScrollTrigger.matchMedia({
        // Mobile (< 768px): Fade-in-up effect
        "(max-width: 767px)": function() {
            const cards = gsap.utils.toArray("#grid-column-container > div");

            gsap.from(cards, {
                scrollTrigger: {
                    trigger: "#grid-column-container",
                    start: "top 80%",
                    end: "bottom 20%",
                    toggleActions: "play none none none",
                    scrub: true
                },
                opacity: 0,
                y: 100,
                duration: 0.6,
                stagger: 0.2,
                ease: "power2.out"
            });
        },
        // Desktop (â‰¥ 768px): Existing slide-in-from-right effect
        "(min-width: 768px)": function() {
            const cards = gsap.utils.toArray("#grid-column-container > div");

            const timeline = gsap.timeline({
                scrollTrigger: {
                    trigger: "#grid-column-container",
                    start: "top 20%",
                    end: "+=1200",
                    pin: true,
                    scrub: 1.5
                }
            });

            cards.forEach((card) => {
                timeline.from(card, {
                    x: 400,
                    opacity: 0,
                    duration: 0.6,
                    ease: "power2.out"
                }, ">");
            });
        }
    });
</script>

<script>
    gsap.registerPlugin(ScrollTrigger);

    document.body.style.transition = "background-color 0.3s ease";

    ScrollTrigger.create({
        trigger: "#trigger-section",
        start: "top 100%",
        end: "bottom 80%",
        scrub: true,
        onUpdate: (self) => {
            const progress = self.progress;

            // === 1. Background Color (Black â†’ White) ===
            const bgVal = Math.round(20 + (255 - 20) * progress); // 20 â†’ 255
            const bgColor = `rgb(${bgVal}, ${bgVal}, ${bgVal})`;
            document.body.style.backgroundColor = bgColor;

            // === 2. Heading: White â†’ Black ===
            const headingVal = Math.round(255 - 255 * progress); // 255 â†’ 0
            const headingColor = `rgb(${headingVal}, ${headingVal}, ${headingVal})`;
            document.getElementById("animated-heading").style.color = headingColor;

            // === 3. Subtitle & Paragraph: Light Gray â†’ Dark Gray ===
            const subtitleStart = 243,
                subtitleEnd = 107;
            const subtitleVal = Math.round(subtitleStart - (subtitleStart - subtitleEnd) * progress);
            const subtitleColor = `rgb(${subtitleVal}, ${subtitleVal}, ${subtitleVal})`;

            document.getElementById("animated-subtitle").style.color = subtitleColor;
            document.getElementById("animated-paragraph").style.color = subtitleColor;
        }
    });
</script>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const cards = document.querySelectorAll("#glow-card");

        cards.forEach((card) => {
            const glow = card.querySelector("#glow-dot");
            const title = card.querySelector("h3");

            // Ensure elements exist
            if (!glow || !title) {
                console.warn("Glow dot or title not found in card:", card);
                return;
            }

            // Mouse enters card
            card.addEventListener("mouseenter", () => {
                // gsap.to(glow, {
                //     opacity: 1,
                //     backgroundColor: "#fca5a5", // red-400
                //     duration: 0.3,
                //     ease: "power2.out"
                // });

                // gsap.to(title, {
                //     color: "#dc2626", // red-600
                //     duration: 0.3
                // });
            });

            // Mouse leaves card
            card.addEventListener("mouseleave", () => {
                // gsap.to(glow, {
                //     opacity: 0,
                //     duration: 0.3
                // });

                gsap.to(card, {
                    rotateX: 0,
                    rotateY: 0,
                    duration: 0.4,
                    ease: "power2.out"
                });

                // gsap.to(title, {
                //     color: "#242424",
                //     duration: 0.3
                // });
            });

            // Mouse moves inside card
            card.addEventListener("mousemove", (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                const centerX = x - glow.offsetWidth / 2;
                const centerY = y - glow.offsetHeight / 2;

                gsap.to(glow, {
                    x: centerX,
                    y: centerY,
                    duration: 0.2,
                    ease: "power2.out"
                });

                const percentX = (x / rect.width - 0.5) * 2;
                const percentY = (y / rect.height - 0.5) * 2;

                gsap.to(card, {
                    rotateX: -percentY * 10,
                    rotateY: percentX * 10,
                    transformPerspective: 1000,
                    transformOrigin: "center",
                    duration: 0.3,
                    ease: "power2.out"
                });
            });
        });
    });
</script>